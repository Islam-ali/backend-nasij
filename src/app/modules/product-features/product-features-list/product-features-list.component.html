<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6">
  <p-toast></p-toast>
  <p-confirmDialog></p-confirmDialog>

  <!-- Toolbar -->
  <div class="mb-6 flex justify-between items-center">
    <div>
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-1">{{ 'productFeature.title' | translate }}</h2>
      <p class="text-gray-600 dark:text-gray-400 text-sm">{{ 'productFeature.description' | translate }}</p>
    </div>
    <p-button [label]="'productFeature.newFeature' | translate" icon="pi pi-plus" severity="success" [rounded]="true"
      [raised]="true" class="shadow-lg hover:shadow-xl transition-shadow duration-200" (click)="openNew()">
    </p-button>
  </div>

  <!-- Features Table -->
  <div
    class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700">
    <p-table [value]="features" [tableStyle]="{ 'min-width': '60rem' }"
      styleClass="p-datatable-striped p-datatable-hover" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
      [currentPageReportTemplate]="'productFeature.paging' | translate" [rowsPerPageOptions]="[10, 25, 50]"
      [responsiveLayout]="'scroll'" [rowTrackBy]="trackByFeature"
      paginatorTemplate="FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown">

      <ng-template pTemplate="header">
        <tr
          class="bg-gradient-to-r from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 border-b-2 border-gray-200 dark:border-gray-600">
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[80px]">{{
            'productFeature.order' | translate }}</th>
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[200px]">{{
            'productFeature.titleEn' | translate }}</th>
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[200px] hidden md:table-cell">{{
            'productFeature.titleAr' | translate }}</th>
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[100px]">{{
            'productFeature.limit' | translate }}</th>
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[120px] hidden lg:table-cell">{{
            'productFeature.filters' | translate }}</th>
          <th class="p-4 text-left font-semibold text-gray-700 dark:text-gray-300 min-w-[100px]">{{ 'common.status' |
            translate }}</th>
          <th class="p-4 text-center font-semibold text-gray-700 dark:text-gray-300 min-w-[150px]">{{ 'common.actions' |
            translate }}</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-feature>
        <tr
          class="border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150">
          <td class="p-4">
            <div class="flex items-center justify-center">
              <span
                class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 font-semibold text-sm shadow-sm">
                {{ feature.displayOrder || '-' }}
              </span>
            </div>
          </td>
          <td class="p-4">
            <div class="font-medium text-gray-900 dark:text-white leading-tight">
              {{ feature.title.en }}
              <div class="md:hidden text-xs text-gray-500 dark:text-gray-400 mt-1">
                {{ feature.title.ar || '-' }}
              </div>
            </div>
          </td>
          <td class="p-4 text-gray-700 dark:text-gray-300 hidden md:table-cell">{{ feature.title.ar || '-' }}</td>
          <td class="p-4">
            <span
              class="inline-flex items-center px-3 py-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium text-sm border border-gray-200 dark:border-gray-600">
              <i class="pi pi-list me-1"></i>
              {{ feature.limit }}
            </span>
          </td>
          <td class="p-4 hidden lg:table-cell">
            <span
              class="inline-flex items-center px-3 py-2 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-medium text-sm border border-blue-200 dark:border-blue-800">
              <i class="pi pi-filter me-2 text-xs"></i>
              {{ feature.filters?.length || 0 }}
            </span>
          </td>
          <td class="p-4">
            <span
              [class]="'inline-flex items-center px-3 py-2 rounded-full font-medium text-sm shadow-sm ' + (feature.isActive ? 'bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800' : 'bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800')">
              <i [class]="'pi me-2 text-xs ' + (feature.isActive ? 'pi-check-circle' : 'pi-times-circle')"></i>
              {{ getStatusLabel(feature.isActive) }}
            </span>
          </td>
          <td class="p-4">
            <div class="flex justify-center items-center gap-1">
              <p-button icon="pi pi-pencil" severity="info" size="small" [text]="true" [rounded]="true"
                [outlined]="true" class="hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-150 p-2"
                [pTooltip]="'common.edit' | translate" tooltipPosition="top" (click)="editFeature(feature)">
              </p-button>
              <p-button icon="pi pi-trash" severity="danger" size="small" [text]="true" [rounded]="true"
                [outlined]="true" class="hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-150 p-2"
                [pTooltip]="'common.delete' | translate" tooltipPosition="top" (click)="deleteFeature(feature)">
              </p-button>
            </div>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7" class="p-12 text-center">
            <div class="flex flex-col items-center justify-center py-12">
              <div
                class="w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 rounded-full flex items-center justify-center mb-6 shadow-lg">
                <i class="pi pi-inbox text-5xl text-gray-400 dark:text-gray-500"></i>
              </div>
              <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2">{{
                'productFeature.noFeaturesFound' | translate }}</h3>
              <p class="text-gray-500 dark:text-gray-400 text-sm mb-6 max-w-md">{{ 'productFeature.clickNewFeature' |
                translate }}</p>
              <p-button [label]="'productFeature.newFeature' | translate" icon="pi pi-plus" severity="success"
                [rounded]="true" [raised]="true" class="shadow-lg hover:shadow-xl transition-shadow duration-200"
                (click)="openNew()">
              </p-button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <!-- Feature Dialog -->
  <p-dialog [(visible)]="featureDialog" [style]="{ width: '95vw', maxWidth: '1400px', maxHeight: '90vh' }"
    [modal]="true"
    [header]="selectedFeature ? ('productFeature.editFeature' | translate) : ('productFeature.newFeature' | translate)"
    styleClass="p-fluid" [breakpoints]="{'1200px': '90vw', '768px': '95vw', '480px': '100vw'}" [draggable]="false"
    [resizable]="false" [closeOnEscape]="true">

    <form [formGroup]="featureForm" class="space-y-6">
      <!-- Basic Information Section -->
      <div class="bg-white dark:bg-gray-800/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
        <h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center">
          <i class="pi pi-info-circle me-2 text-blue-500"></i>
          {{ 'productFeature.basicInfo' | translate }}
        </h3>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Title Section -->
          <div formGroupName="title" class="space-y-4">
            <div>
              <label for="titleEn" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
                {{ 'productFeature.titleEn' | translate }} <span class="text-red-500">*</span>
              </label>
              <input id="titleEn" type="text" pInputText formControlName="en"
                [placeholder]="'productFeature.titleEnPlaceholder' | translate"
                class="w-full border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 rounded-lg transition-all duration-200" />
              <small class="text-red-500 mt-1 block"
                *ngIf="submitted && featureForm.get('title.en')?.errors?.['required']">
                {{ 'productFeature.titleEnRequired' | translate }}
              </small>
            </div>

            <div>
              <label for="titleAr" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{
                'productFeature.titleAr' | translate }}</label>
              <input id="titleAr" type="text" pInputText formControlName="ar"
                [placeholder]="'productFeature.titleArPlaceholder' | translate"
                class="w-full border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 rounded-lg transition-all duration-200" />
            </div>
          </div>

          <!-- Description Section -->
          <div formGroupName="description" class="space-y-4">
            <div>
              <label for="descEn" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{
                'productFeature.descriptionEn' | translate }}</label>
              <textarea id="descEn" pInputTextarea [rows]="3" formControlName="en"
                [placeholder]="'productFeature.descriptionEnPlaceholder' | translate"
                class="w-full border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 rounded-lg resize-none transition-all duration-200"></textarea>
            </div>

            <div>
              <label for="descAr" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{
                'productFeature.descriptionAr' | translate }}</label>
              <textarea id="descAr" pInputTextarea [rows]="3" formControlName="ar"
                [placeholder]="'productFeature.descriptionArPlaceholder' | translate"
                class="w-full border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 rounded-lg resize-none transition-all duration-200"></textarea>
            </div>
          </div>
        </div>

        <!-- Settings Row -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6 pt-6 border-t border-gray-200 dark:border-gray-600">
          <!-- Limit -->
          <div>
            <label for="limit" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
              {{ 'productFeature.numberOfProducts' | translate }} <span class="text-red-500">*</span>
            </label>
            <p-inputNumber id="limit" formControlName="limit" [min]="1" [showButtons]="true" placeholder="10"
              styleClass="w-full">
            </p-inputNumber>
            <small class="text-red-500 mt-1 block" *ngIf="submitted && featureForm.get('limit')?.errors?.['required']">
              {{ 'productFeature.limitRequired' | translate }}
            </small>
          </div>

          <!-- Display Order -->
          <div>
            <label for="displayOrder" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{
              'productFeature.displayOrder' | translate }}</label>
            <p-inputNumber id="displayOrder" formControlName="displayOrder" [showButtons]="true" placeholder="1"
              styleClass="w-full">
            </p-inputNumber>
          </div>

          <!-- Is Active -->
          <div>
            <label for="isActive" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{
              'productFeature.activeStatus' | translate }}</label>
            <div class="flex items-center h-10">
              <p-toggleSwitch id="isActive" formControlName="isActive"></p-toggleSwitch>
              <span class="ms-3 text-sm text-gray-600 dark:text-gray-400">
                {{ featureForm.get('isActive')?.value ? ('common.active' | translate) : ('common.inactive' | translate)
                }}
              </span>
            </div>
          </div>
        </div>
      </div>

      <!-- Sorting Configuration -->
      <div class="bg-white dark:bg-gray-800/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
        <h3 class="text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200 flex items-center">
          <i class="pi pi-sort-alt me-2 text-green-500"></i>
          {{ 'productFeature.sortingConfiguration' | translate }}
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6" formGroupName="sorting">
          <div>
            <label for="sortField" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
              {{ 'productFeature.sortBy' | translate }} <span class="text-red-500">*</span>
            </label>
            <p-dropdown id="sortField" appendTo="body" formControlName="field" [options]="sortFieldOptions" optionLabel="label"
              optionValue="value" [placeholder]="'productFeature.selectField' | translate" styleClass="w-full">
            </p-dropdown>
          </div>
          <div>
            <label for="sortOrder" class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
              {{ 'productFeature.order' | translate }} <span class="text-red-500">*</span>
            </label>
            <p-dropdown id="sortOrder" appendTo="body" formControlName="order" [options]="sortOrderOptions" optionLabel="label"
              optionValue="value" [placeholder]="'productFeature.selectOrder' | translate" styleClass="w-full">
            </p-dropdown>
          </div>
        </div>
      </div>

      <!-- Dynamic Filters -->
      <div class="bg-white dark:bg-gray-800/50 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 flex items-center">
            <i class="pi pi-filter me-2 text-purple-500"></i>
            {{ 'productFeature.dynamicFilters' | translate }}
          </h3>
          <p-button [label]="'productFeature.addFilter' | translate" icon="pi pi-plus" severity="secondary" size="small"
            [rounded]="true" [outlined]="true" class="shadow-md hover:shadow-lg transition-shadow duration-200"
            (click)="addFilter()">
          </p-button>
        </div>

        <div formArrayName="filters" class="space-y-4">
          @for (filter of filtersArray.controls; track trackByFilter($index); let i = $index) {
          <div [formGroupName]="i"
            class="relative bg-gradient-to-r from-white to-gray-50 dark:from-gray-700 dark:to-gray-600 rounded-xl border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden">
            <!-- Filter Header -->
            <div
              class="flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-b border-blue-200 dark:border-blue-800">
              <div class="flex items-center gap-3">
                <div
                  class="w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center text-sm font-bold shadow-md">
                  {{ i + 1 }}
                </div>
                <span class="font-semibold text-gray-800 dark:text-gray-200">{{ 'productFeature.filter' | translate }}
                  {{ i + 1 }}</span>
              </div>
              <button type="button"
                class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200"
                (click)="removeFilter(i)" [title]="'productFeature.removeFilter' | translate">
                <i class="pi pi-times text-lg"></i>
              </button>
            </div>

            <!-- Filter Content -->
            <div class="p-6">
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div>
                  <label class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
                    {{ 'productFeature.field' | translate }} <span class="text-red-500">*</span>
                  </label>
                  <p-dropdown formControlName="field" appendTo="body" [options]="filterFieldOptions" optionLabel="label"
                    optionValue="value" [placeholder]="'productFeature.selectField' | translate" styleClass="w-full">
                  </p-dropdown>
                </div>

                <div>
                  <label class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">
                    {{ 'productFeature.operator' | translate }} <span class="text-red-500">*</span>
                  </label>
                  <p-dropdown formControlName="operator" appendTo="body" [options]="operatorOptions" optionLabel="label"
                    optionValue="value" [placeholder]="'productFeature.selectOperator' | translate" styleClass="w-full">
                  </p-dropdown>
                </div>

                <div>
                  <label class="block mb-2 font-semibold text-gray-700 dark:text-gray-300">{{ 'productFeature.value' |
                    translate }}</label>

                  <!-- Category Dropdown -->
                  @if (getFieldType(i) === 'category') {
                  <p-dropdown formControlName="value" appendTo="body" [options]="getCategoryOptions()" optionLabel="label"
                    optionValue="value" [placeholder]="'productFeature.selectCategory' | translate" [filter]="true"
                    [style]="{'width': '100%'}">
                  </p-dropdown>
                  }

                  <!-- Brand Dropdown -->
                  @else if (getFieldType(i) === 'brand') {
                  <p-dropdown formControlName="value" appendTo="body" [options]="getBrandOptions()" optionLabel="label"
                    optionValue="value" [placeholder]="'productFeature.selectBrand' | translate" [filter]="true"
                    [style]="{'width': '100%'}">
                  </p-dropdown>
                  }

                  <!-- Status Dropdown -->
                  @else if (getFieldType(i) === 'status') {
                  <p-dropdown formControlName="value" appendTo="body" [options]="statusOptions" optionLabel="label" optionValue="value"
                    [placeholder]="'productFeature.selectStatus' | translate" [style]="{'width': '100%'}">
                  </p-dropdown>
                  }

                  <!-- Boolean Dropdown -->
                  @else if (getFieldType(i) === 'boolean') {
                  <p-dropdown appendTo="body" formControlName="value" [options]="getBooleanOptions()" optionLabel="label"
                    optionValue="value" [placeholder]="'productFeature.selectValue' | translate"
                    [style]="{'width': '100%'}">
                  </p-dropdown>
                  }

                  <!-- Text Input (Default) -->
                  @else {
                  <input type="text" pInputText formControlName="value"
                    [placeholder]="'productFeature.valuePlaceholder' | translate"
                    class="w-full border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 rounded-lg transition-all duration-200" />
                  <small class="text-gray-500 dark:text-gray-400 text-xs mt-1 block">{{ 'productFeature.inOperatorHint'
                    | translate }} </small>
                  }
                </div>
              </div>
            </div>
            </div>  
            } @empty {
            <div
              class="text-center p-8 bg-white dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600">
              <i class="pi pi-filter text-4xl text-gray-300 dark:text-gray-600 mb-3"></i>
              <p class="text-gray-500 dark:text-gray-400 font-medium">{{ 'productFeature.noFiltersAdded' | translate }}
              </p>
              <p class="text-gray-400 dark:text-gray-500 text-sm mt-1">{{ 'productFeature.clickAddFilter' | translate }}
              </p>
            </div>
            }
          </div>

          <!-- Preview Section -->
          <div
            class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border-2 border-blue-200 dark:border-blue-800">
            <div class="flex justify-center">
              <p-button [label]="'productFeature.previewProducts' | translate" icon="pi pi-eye" severity="help"
                [rounded]="true" [raised]="true" [loading]="loading" [disabled]="featureForm.invalid || loading"
                class="shadow-lg hover:shadow-xl transition-shadow duration-200 disabled:opacity-50"
                (click)="previewFeature()">
              </p-button>
            </div>

            <!-- Preview Results -->
            @if (showPreview) {
            <div class="mt-6">
              <div
                class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700 shadow-lg">
                <div class="flex items-center justify-between mb-6">
                  <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 flex items-center">
                    <i class="pi pi-eye me-2 text-blue-500"></i>
                    {{ 'productFeature.previewResults' | translate }}
                  </h3>
                  <span class="px-4 py-2 bg-blue-500 text-white rounded-full text-sm font-bold shadow-lg">
                    {{ previewProducts.length }} {{ previewProducts.length === 1 ? ('productFeature.product' |
                    translate) : ('productFeature.product' | translate) + 's' }}
                  </span>
                </div>

                @if (previewProducts.length > 0) {
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                  @for (product of previewProducts; track trackByProduct($index, product)) {
                  <div class="group">
                    <div
                      class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600">
                      <div class="relative overflow-hidden">
                        <img [src]="getImageUrl(product.images?.[0]?.filePath || '')" [alt]="product.name?.en || ''"
                          class="w-full h-48 object-cover group-hover:scale-110 transition-transform duration-300"
                          onerror="this.src='assets/images/placeholder.png'" />
                        <div class="absolute top-3 right-3">
                          <span
                            class="px-3 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full shadow-lg backdrop-blur-sm bg-blue-500/90">
                            {{ 'productFeature.preview' | translate }}
                          </span>
                        </div>
                        <div class="absolute bottom-3 left-3">
                          <span
                            class="px-3 py-1 bg-black/70 text-white text-xs font-semibold rounded-full backdrop-blur-sm">
                            #{{ $index + 1 }}
                          </span>
                        </div>
                      </div>
                      <div class="p-4">
                        <h4 class="font-semibold text-sm mb-2 text-gray-900 dark:text-white line-clamp-2 leading-tight">
                          {{ product.name?.en || 'Unnamed Product' }}
                        </h4>
                        <div class="flex items-center justify-between">
                          <p class="text-blue-600 dark:text-blue-400 font-bold text-lg">
                            {{ product.price | currency:'USD':'symbol':'1.2-2' }}
                          </p>
                          <span class="px-2 py-1 text-xs rounded-full font-medium"
                            [class]="product.status === ProductStatus.ACTIVE ? 'bg-green-50 text-green-700 border border-green-200' : 'bg-red-50 text-red-700 border border-red-200'">
                            {{ getStatusLabel(product.status === ProductStatus.ACTIVE) }}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  }
                </div>
                } @else {
                <div class="text-center py-12">
                  <div
                    class="mx-auto w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4">
                    <i class="pi pi-inbox text-4xl text-gray-400 dark:text-gray-500"></i>
                  </div>
                  <h4 class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">{{
                    'productFeature.noProductsFound' | translate }}</h4>
                  <p class="text-gray-500 dark:text-gray-400 text-sm">{{ 'productFeature.tryAdjustingFilters' |
                    translate }}</p>
                </div>
                }
              </div>
            </div>
            }
          </div>
        </div>
    </form>

    <ng-template pTemplate="footer">
      <div class="flex justify-end gap-3">
        <p-button [label]="'common.cancel' | translate" icon="pi pi-times" severity="secondary" [text]="true"
          [rounded]="true" class="hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-150"
          (click)="hideDialog()">
        </p-button>
        <p-button [label]="'common.save' | translate" icon="pi pi-check" severity="success" [rounded]="true"
          [raised]="true" [loading]="saving" class="shadow-md hover:shadow-lg transition-shadow duration-200"
          (click)="saveFeature()">
        </p-button>
      </div>
    </ng-template>
  </p-dialog>
</div>